[gd_scene load_steps=13 format=3 uid="uid://brn6cw5tr1mxb"]

[ext_resource type="PackedScene" uid="uid://d26br4f45m27g" path="res://characters/character.tscn" id="1_6uqpy"]
[ext_resource type="Script" path="res://characters/heroes/barbarian/barbarian.gd" id="2_6pbkp"]
[ext_resource type="PackedScene" uid="uid://dkbnsqkgykbxy" path="res://characters/heroes/barbarian/skin.tscn" id="2_lwxa8"]
[ext_resource type="PackedScene" uid="uid://dduw5yupkf46b" path="res://characters/heroes/barbarian/skills/chop.tscn" id="3_fur47"]
[ext_resource type="Script" path="res://status_effects/modifiers/conditional_modifier.gd" id="3_hhx1p"]
[ext_resource type="Script" path="res://skills/skill_sequence.gd" id="3_pngyg"]
[ext_resource type="PackedScene" uid="uid://cq3ieognt8p8y" path="res://characters/heroes/barbarian/skills/slice.tscn" id="4_bcofc"]
[ext_resource type="Script" path="res://status_effects/effects/slowdown.gd" id="4_h87is"]
[ext_resource type="Script" path="res://characters/heroes/barbarian/processors/skin.gd" id="6_5y8y2"]
[ext_resource type="Script" path="res://input/input_source.gd" id="9_shd64"]

[sub_resource type="Resource" id="Resource_221r4"]
script = ExtResource("4_h87is")
amount = 30

[sub_resource type="Resource" id="Resource_86j2e"]
script = ExtResource("9_shd64")

[node name="Barbarian" instance=ExtResource("1_6uqpy")]
script = ExtResource("2_6pbkp")

[node name="Health" parent="Stats" index="0"]
max_value = 500.0
base_value = 500.0

[node name="Shield" parent="Stats" index="1"]
max_value = 500.0

[node name="RotationSpeed" parent="Stats" index="3"]
has_max_value = true
max_value = 10.0

[node name="Name" parent="Stats" index="6"]
current_value = "Barbarian"

[node name="SlowdownOnAttack" type="Node" parent="Modifiers" index="0"]
script = ExtResource("3_hhx1p")
condition = "owner.skills.basic_attack.execution.time_left > 0.0"
effects = Array[Resource("res://status_effects/effects/base_effect.gd")]([SubResource("Resource_221r4")])

[node name="BasicAttack" type="Node" parent="Skills" index="0"]
script = ExtResource("3_pngyg")

[node name="Chop" parent="Skills/BasicAttack" index="0" node_paths=PackedStringArray("skill_speed") instance=ExtResource("3_fur47")]
skill_speed = NodePath("../../../Stats/AttackSpeed")

[node name="Slice" parent="Skills/BasicAttack" index="1" node_paths=PackedStringArray("skill_speed") instance=ExtResource("4_bcofc")]
skill_speed = NodePath("../../../Stats/AttackSpeed")

[node name="Skin" type="Node" parent="Processors" index="4" node_paths=PackedStringArray("skin", "move_speed", "attack_speed")]
script = ExtResource("6_5y8y2")
skin = NodePath("../../Skin")
move_speed = NodePath("../../Stats/MovementSpeed")
attack_speed = NodePath("../../Stats/AttackSpeed")
interpolation = 10.0

[node name="HUD" parent="." index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.81294, 0)

[node name="Input" parent="." index="7"]
input_source = SubResource("Resource_86j2e")

[node name="Skin" parent="." index="8" instance=ExtResource("2_lwxa8")]

[connection signal="activated" from="Skills/BasicAttack/Chop" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/BasicAttack/Chop" to="Skin" method="play_chop"]
[connection signal="activated" from="Skills/BasicAttack/Slice" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/BasicAttack/Slice" to="Skin" method="play_slice"]
[connection signal="on_basic_attack" from="Input" to="Skills/BasicAttack" method="activate"]
