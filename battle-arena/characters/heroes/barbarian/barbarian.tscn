[gd_scene load_steps=24 format=3 uid="uid://brn6cw5tr1mxb"]

[ext_resource type="PackedScene" uid="uid://d26br4f45m27g" path="res://characters/character.tscn" id="1_6uqpy"]
[ext_resource type="Script" path="res://characters/heroes/barbarian/barbarian.gd" id="2_6pbkp"]
[ext_resource type="PackedScene" uid="uid://dkbnsqkgykbxy" path="res://characters/heroes/barbarian/skin.tscn" id="2_lwxa8"]
[ext_resource type="PackedScene" uid="uid://dduw5yupkf46b" path="res://characters/heroes/barbarian/skills/chop.tscn" id="3_fur47"]
[ext_resource type="Script" path="res://status_effects/modifiers/conditional_modifier.gd" id="3_hhx1p"]
[ext_resource type="Script" path="res://stats/number_stat.gd" id="3_l5iug"]
[ext_resource type="Script" path="res://skills/skill_sequence.gd" id="3_pngyg"]
[ext_resource type="PackedScene" uid="uid://cq3ieognt8p8y" path="res://characters/heroes/barbarian/skills/slice.tscn" id="4_bcofc"]
[ext_resource type="Script" path="res://status_effects/effects/slowdown.gd" id="4_h87is"]
[ext_resource type="Script" path="res://status_effects/effects/invulnerability.gd" id="5_5sv1s"]
[ext_resource type="Script" path="res://characters/heroes/barbarian/processors/skin.gd" id="6_5y8y2"]
[ext_resource type="PackedScene" uid="uid://d1dskurwvvtkl" path="res://characters/heroes/barbarian/skills/block.tscn" id="9_2nipq"]
[ext_resource type="Script" path="res://input/input_source.gd" id="9_shd64"]
[ext_resource type="PackedScene" uid="uid://bp7f6dgygfoa" path="res://characters/heroes/barbarian/skills/kick_a.tscn" id="10_3sw4o"]
[ext_resource type="PackedScene" uid="uid://ci811lsyijdqv" path="res://characters/heroes/barbarian/skills/axe_throw.tscn" id="10_i2xy0"]
[ext_resource type="Script" path="res://skills/skill_transition.gd" id="10_otvns"]
[ext_resource type="PackedScene" uid="uid://dyxib0cnjsx2l" path="res://characters/heroes/barbarian/skills/axe_recall.tscn" id="11_jsp2i"]
[ext_resource type="PackedScene" uid="uid://c1dfj25hhq1cq" path="res://characters/heroes/barbarian/skills/kick_b.tscn" id="11_tvqbx"]
[ext_resource type="Script" path="res://processors/energy.gd" id="17_6fxxn"]

[sub_resource type="Resource" id="Resource_221r4"]
script = ExtResource("4_h87is")
amount = 30

[sub_resource type="Resource" id="Resource_dhhgg"]
script = ExtResource("4_h87is")
amount = 20

[sub_resource type="Resource" id="Resource_lfolj"]
script = ExtResource("5_5sv1s")

[sub_resource type="Resource" id="Resource_86j2e"]
script = ExtResource("9_shd64")

[node name="Barbarian" instance=ExtResource("1_6uqpy")]
script = ExtResource("2_6pbkp")

[node name="Health" parent="Stats" index="0"]
max_value = 500.0
base_value = 500.0

[node name="Shield" parent="Stats" index="1"]
max_value = 500.0

[node name="RotationSpeed" parent="Stats" index="3"]
has_max_value = true
max_value = 10.0

[node name="Name" parent="Stats" index="6"]
current_value = "Barbarian"

[node name="Energy" type="Node" parent="Stats" index="7"]
script = ExtResource("3_l5iug")
has_max_value = true
max_value = 100.0
has_min_value = true

[node name="SlowdownOnAttack" type="Node" parent="Modifiers" index="0"]
script = ExtResource("3_hhx1p")
condition = "owner.skills.basic_attack.execution.time_left > 0.0"
effects = Array[Resource("res://status_effects/effects/base_effect.gd")]([SubResource("Resource_221r4")])
default_condition = null

[node name="Blocking" type="Node" parent="Modifiers" index="1"]
script = ExtResource("3_hhx1p")
condition = "not owner.skills.block.execution.is_stopped()"
effects = Array[Resource("res://status_effects/effects/base_effect.gd")]([SubResource("Resource_dhhgg"), SubResource("Resource_lfolj")])
default_condition = null

[node name="BasicAttack" type="Node" parent="Skills" index="0"]
script = ExtResource("10_otvns")

[node name="AxeSlash" type="Node" parent="Skills/BasicAttack" index="0"]
script = ExtResource("3_pngyg")

[node name="Chop" parent="Skills/BasicAttack/AxeSlash" index="0" node_paths=PackedStringArray("energy_stat", "skill_speed") instance=ExtResource("3_fur47")]
energy_stat = NodePath("../../../../Stats/Energy")
skill_speed = NodePath("../../../../Stats/AttackSpeed")

[node name="Slice" parent="Skills/BasicAttack/AxeSlash" index="1" node_paths=PackedStringArray("energy_stat", "skill_speed") instance=ExtResource("4_bcofc")]
energy_stat = NodePath("../../../../Stats/Energy")
skill_speed = NodePath("../../../../Stats/AttackSpeed")

[node name="Kicks" type="Node" parent="Skills/BasicAttack" index="1"]
script = ExtResource("3_pngyg")

[node name="KickA" parent="Skills/BasicAttack/Kicks" index="0" node_paths=PackedStringArray("energy_stat", "skill_speed") instance=ExtResource("10_3sw4o")]
energy_stat = NodePath("../../../../Stats/Energy")
skill_speed = NodePath("../../../../Stats/AttackSpeed")

[node name="KickB" parent="Skills/BasicAttack/Kicks" index="1" node_paths=PackedStringArray("energy_stat", "skill_speed") instance=ExtResource("11_tvqbx")]
energy_stat = NodePath("../../../../Stats/Energy")
skill_speed = NodePath("../../../../Stats/AttackSpeed")

[node name="SecondaryAttack" type="Node" parent="Skills" index="1"]
script = ExtResource("10_otvns")

[node name="AxeThrow" parent="Skills/SecondaryAttack" index="0" instance=ExtResource("10_i2xy0")]

[node name="AxeRecall" parent="Skills/SecondaryAttack" index="1" instance=ExtResource("11_jsp2i")]

[node name="Block" parent="Skills" index="2" instance=ExtResource("9_2nipq")]

[node name="Skin" type="Node" parent="Processors" index="4" node_paths=PackedStringArray("skin", "move_speed", "attack_speed")]
script = ExtResource("6_5y8y2")
skin = NodePath("../../Skin")
move_speed = NodePath("../../Stats/MovementSpeed")
attack_speed = NodePath("../../Stats/AttackSpeed")
interpolation = 10.0

[node name="Energy" type="Node" parent="Processors" index="5" node_paths=PackedStringArray("energy")]
script = ExtResource("17_6fxxn")
energy = NodePath("../../Stats/Energy")

[node name="HUD" parent="." index="6" node_paths=PackedStringArray("energy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.81294, 0)
energy = NodePath("../Stats/Energy")

[node name="Input" parent="." index="7"]
input_source = SubResource("Resource_86j2e")

[node name="Skin" parent="." index="8" instance=ExtResource("2_lwxa8")]

[connection signal="activated" from="Skills/BasicAttack/AxeSlash/Chop" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/BasicAttack/AxeSlash/Chop" to="Skin" method="play_chop"]
[connection signal="cancelled" from="Skills/BasicAttack/AxeSlash/Chop" to="Skin" method="stop_attack"]
[connection signal="activated" from="Skills/BasicAttack/AxeSlash/Slice" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/BasicAttack/AxeSlash/Slice" to="Skin" method="play_slice"]
[connection signal="cancelled" from="Skills/BasicAttack/AxeSlash/Slice" to="Skin" method="stop_attack"]
[connection signal="activated" from="Skills/BasicAttack/Kicks/KickA" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/BasicAttack/Kicks/KickA" to="Skin" method="play_kick_a"]
[connection signal="cancelled" from="Skills/BasicAttack/Kicks/KickA" to="Skin" method="stop_attack"]
[connection signal="activated" from="Skills/BasicAttack/Kicks/KickB" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/BasicAttack/Kicks/KickB" to="Skin" method="play_kick_b"]
[connection signal="cancelled" from="Skills/BasicAttack/Kicks/KickB" to="Skin" method="stop_attack"]
[connection signal="activated" from="Skills/SecondaryAttack/AxeThrow" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/SecondaryAttack/AxeThrow" to="Skin" method="play_throw"]
[connection signal="activated" from="Skills/SecondaryAttack/AxeRecall" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/Block" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/Block" to="Skin" method="play_taunt"]
[connection signal="on_damage" from="HitBox" to="Skills/Block" method="on_damage"]
[connection signal="on_damage" from="HitBox" to="Processors/Energy" method="on_damage"]
