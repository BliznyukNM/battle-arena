[gd_scene load_steps=32 format=3 uid="uid://brn6cw5tr1mxb"]

[ext_resource type="PackedScene" uid="uid://d26br4f45m27g" path="res://characters/character.tscn" id="1_6uqpy"]
[ext_resource type="Script" path="res://characters/heroes/barbarian/barbarian.gd" id="2_6pbkp"]
[ext_resource type="PackedScene" uid="uid://dkbnsqkgykbxy" path="res://characters/heroes/barbarian/skin.tscn" id="2_lwxa8"]
[ext_resource type="PackedScene" uid="uid://dduw5yupkf46b" path="res://characters/heroes/barbarian/skills/chop.tscn" id="3_fur47"]
[ext_resource type="Script" path="res://characters/status_effects/modifiers/conditional_modifier.gd" id="3_hhx1p"]
[ext_resource type="Script" path="res://characters/stats/number_stat.gd" id="3_l5iug"]
[ext_resource type="Script" path="res://characters/skills/skill_sequence.gd" id="3_pngyg"]
[ext_resource type="PackedScene" uid="uid://cq3ieognt8p8y" path="res://characters/heroes/barbarian/skills/slice.tscn" id="4_bcofc"]
[ext_resource type="Script" path="res://characters/status_effects/effects/slowdown.gd" id="4_h87is"]
[ext_resource type="Script" path="res://characters/status_effects/effects/invulnerability.gd" id="5_5sv1s"]
[ext_resource type="Script" path="res://characters/heroes/barbarian/processors/skin.gd" id="6_5y8y2"]
[ext_resource type="Script" path="res://characters/status_effects/effects/modify_stat.gd" id="7_l2lwc"]
[ext_resource type="PackedScene" uid="uid://drcj1bx63pckf" path="res://characters/heroes/barbarian/modifiers/empty_hands.tscn" id="8_2mvos"]
[ext_resource type="PackedScene" uid="uid://d1dskurwvvtkl" path="res://characters/heroes/barbarian/skills/block.tscn" id="9_2nipq"]
[ext_resource type="PackedScene" uid="uid://bp7f6dgygfoa" path="res://characters/heroes/barbarian/skills/kick_a.tscn" id="10_3sw4o"]
[ext_resource type="PackedScene" uid="uid://ci811lsyijdqv" path="res://characters/heroes/barbarian/skills/axe_throw.tscn" id="10_i2xy0"]
[ext_resource type="Script" path="res://characters/skills/skill_transition.gd" id="10_otvns"]
[ext_resource type="PackedScene" uid="uid://dyxib0cnjsx2l" path="res://characters/heroes/barbarian/skills/axe_recall.tscn" id="11_jsp2i"]
[ext_resource type="PackedScene" uid="uid://c1dfj25hhq1cq" path="res://characters/heroes/barbarian/skills/kick_b.tscn" id="11_tvqbx"]
[ext_resource type="PackedScene" uid="uid://ckyt0uno5pcpt" path="res://characters/heroes/barbarian/skills/dual_chop.tscn" id="15_kthaa"]
[ext_resource type="PackedScene" uid="uid://cwn0cy54tbtor" path="res://characters/heroes/barbarian/skills/spinning.tscn" id="16_j6fet"]
[ext_resource type="PackedScene" uid="uid://423mth77u25c" path="res://characters/heroes/barbarian/skills/drink.tscn" id="16_qo7fb"]
[ext_resource type="PackedScene" uid="uid://oburmakxw5m6" path="res://characters/heroes/barbarian/skills/dual_slice.tscn" id="16_r01mu"]
[ext_resource type="PackedScene" uid="uid://bob5haniot34k" path="res://characters/heroes/barbarian/skills/jump.tscn" id="18_4cbep"]
[ext_resource type="PackedScene" uid="uid://b0v3b0rjaanwm" path="res://characters/heroes/barbarian/skills/fury.tscn" id="21_62el3"]
[ext_resource type="Script" path="res://characters/processors/energy.gd" id="21_kdalp"]

[sub_resource type="Resource" id="Resource_221r4"]
script = ExtResource("4_h87is")
amount = 30

[sub_resource type="Resource" id="Resource_dhhgg"]
script = ExtResource("4_h87is")
amount = 20

[sub_resource type="Resource" id="Resource_lfolj"]
script = ExtResource("5_5sv1s")

[sub_resource type="Resource" id="Resource_1b4si"]
script = ExtResource("7_l2lwc")
stat_name = "RotationSpeed"
percentage = -100.0
flat = 0.0

[sub_resource type="Resource" id="Resource_6by3s"]
script = ExtResource("7_l2lwc")
stat_name = "MovementSpeed"
percentage = 15.0
flat = 0.0

[node name="Barbarian" instance=ExtResource("1_6uqpy")]
script = ExtResource("2_6pbkp")

[node name="Health" parent="Stats" index="0"]
max_value = 500.0
base_value = 500.0

[node name="Shield" parent="Stats" index="1"]
max_value = 500.0

[node name="Name" parent="Stats" index="5"]
current_value = "Barbarian"

[node name="Energy" type="Node" parent="Stats" index="6"]
script = ExtResource("3_l5iug")
has_max_value = true
max_value = 100.0
has_min_value = true

[node name="SlowdownOnAttack" type="Node" parent="Modifiers" index="0"]
script = ExtResource("3_hhx1p")
condition = "owner.skills.basic_attack.execution.time_left > 0.0"
effects = Array[Resource("res://characters/status_effects/effects/base_effect.gd")]([SubResource("Resource_221r4")])

[node name="Blocking" type="Node" parent="Modifiers" index="1"]
script = ExtResource("3_hhx1p")
condition = "not owner.skills.block.execution.is_stopped()"
effects = Array[Resource("res://characters/status_effects/effects/base_effect.gd")]([SubResource("Resource_dhhgg"), SubResource("Resource_lfolj")])

[node name="BlockRotation" type="Node" parent="Modifiers" index="2"]
script = ExtResource("3_hhx1p")
condition = "owner.skills.third_attack.current_index == 0 and not owner.skills.third_attack.execution.is_stopped() or not owner.skills.dodge.execution.is_stopped()"
effects = Array[Resource("res://characters/status_effects/effects/base_effect.gd")]([SubResource("Resource_1b4si")])
default_condition = false

[node name="EmptyHands" parent="Modifiers" index="3" instance=ExtResource("8_2mvos")]

[node name="Lightweight" type="Node" parent="Modifiers" index="4"]
script = ExtResource("3_hhx1p")
condition = "owner.current_stance == 0"
effects = Array[Resource("res://characters/status_effects/effects/base_effect.gd")]([SubResource("Resource_6by3s")])

[node name="BasicAttack" type="Node" parent="Skills" index="0" node_paths=PackedStringArray("skill_speed")]
script = ExtResource("10_otvns")
skill_speed = NodePath("../../Stats/AttackSpeed")

[node name="Axe" type="Node" parent="Skills/BasicAttack" index="0"]
script = ExtResource("3_pngyg")

[node name="Chop" parent="Skills/BasicAttack/Axe" index="0" node_paths=PackedStringArray("energy_stat", "skill_speed") instance=ExtResource("3_fur47")]
energy_stat = NodePath("../../../../Stats/Energy")
skill_speed = NodePath("../../../../Stats/AttackSpeed")

[node name="Slice" parent="Skills/BasicAttack/Axe" index="1" node_paths=PackedStringArray("energy_stat", "skill_speed") instance=ExtResource("4_bcofc")]
energy_stat = NodePath("../../../../Stats/Energy")
skill_speed = NodePath("../../../../Stats/AttackSpeed")

[node name="Hands" type="Node" parent="Skills/BasicAttack" index="1"]
script = ExtResource("3_pngyg")

[node name="KickA" parent="Skills/BasicAttack/Hands" index="0" node_paths=PackedStringArray("energy_stat", "skill_speed") instance=ExtResource("10_3sw4o")]
energy_stat = NodePath("../../../../Stats/Energy")
skill_speed = NodePath("../../../../Stats/AttackSpeed")

[node name="KickB" parent="Skills/BasicAttack/Hands" index="1" node_paths=PackedStringArray("energy_stat", "skill_speed") instance=ExtResource("11_tvqbx")]
energy_stat = NodePath("../../../../Stats/Energy")
skill_speed = NodePath("../../../../Stats/AttackSpeed")

[node name="Dual" type="Node" parent="Skills/BasicAttack" index="2"]
script = ExtResource("3_pngyg")

[node name="DualChop" parent="Skills/BasicAttack/Dual" index="0" node_paths=PackedStringArray("skill_speed") instance=ExtResource("15_kthaa")]
skill_speed = NodePath("../../../../Stats/AttackSpeed")

[node name="DualSlice" parent="Skills/BasicAttack/Dual" index="1" node_paths=PackedStringArray("skill_speed") instance=ExtResource("16_r01mu")]
skill_speed = NodePath("../../../../Stats/AttackSpeed")

[node name="SecondaryAttack" type="Node" parent="Skills" index="1"]
script = ExtResource("10_otvns")

[node name="AxeThrow" parent="Skills/SecondaryAttack" index="0" instance=ExtResource("10_i2xy0")]

[node name="AxeRecall" parent="Skills/SecondaryAttack" index="1" instance=ExtResource("11_jsp2i")]

[node name="ThirdAttack" type="Node" parent="Skills" index="2"]
script = ExtResource("10_otvns")

[node name="Spinning" parent="Skills/ThirdAttack" index="0" instance=ExtResource("16_j6fet")]
energy_cost = 2.08165e-12

[node name="Drink" parent="Skills/ThirdAttack" index="1" instance=ExtResource("16_qo7fb")]
energy_cost = 2.08165e-12

[node name="Block" parent="Skills" index="3" instance=ExtResource("9_2nipq")]

[node name="Dodge" parent="Skills" index="4" instance=ExtResource("18_4cbep")]

[node name="Ultimate" parent="Skills" index="5" node_paths=PackedStringArray("energy_stat") instance=ExtResource("21_62el3")]
energy_cost = 0.0
energy_stat = NodePath("../../Stats/Energy")

[node name="Skin" type="Node" parent="Processors" index="4" node_paths=PackedStringArray("skin", "move_speed", "attack_speed")]
script = ExtResource("6_5y8y2")
skin = NodePath("../../Skin")
move_speed = NodePath("../../Stats/MovementSpeed")
attack_speed = NodePath("../../Stats/AttackSpeed")
interpolation = 10.0

[node name="Energy" type="Node" parent="Processors" index="5" node_paths=PackedStringArray("energy")]
script = ExtResource("21_kdalp")
energy = NodePath("../../Stats/Energy")

[node name="HUD" parent="." index="6" node_paths=PackedStringArray("energy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.81294, 0)
energy = NodePath("../Stats/Energy")

[node name="Skin" parent="." index="9" instance=ExtResource("2_lwxa8")]

[connection signal="activated" from="Skills/BasicAttack/Axe/Chop" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/BasicAttack/Axe/Chop" to="Skin" method="play_chop"]
[connection signal="cancelled" from="Skills/BasicAttack/Axe/Chop" to="Skin" method="stop_attack"]
[connection signal="activated" from="Skills/BasicAttack/Axe/Slice" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/BasicAttack/Axe/Slice" to="Skin" method="play_slice"]
[connection signal="cancelled" from="Skills/BasicAttack/Axe/Slice" to="Skin" method="stop_attack"]
[connection signal="activated" from="Skills/BasicAttack/Hands/KickA" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/BasicAttack/Hands/KickA" to="Skin" method="play_kick_a"]
[connection signal="cancelled" from="Skills/BasicAttack/Hands/KickA" to="Skin" method="stop_attack"]
[connection signal="activated" from="Skills/BasicAttack/Hands/KickB" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/BasicAttack/Hands/KickB" to="Skin" method="play_kick_b"]
[connection signal="cancelled" from="Skills/BasicAttack/Hands/KickB" to="Skin" method="stop_attack"]
[connection signal="activated" from="Skills/BasicAttack/Dual/DualChop" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/BasicAttack/Dual/DualChop" to="Skin" method="play_dual_chop"]
[connection signal="activated" from="Skills/BasicAttack/Dual/DualSlice" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/BasicAttack/Dual/DualSlice" to="Skin" method="play_dual_slice"]
[connection signal="activated" from="Skills/SecondaryAttack/AxeThrow" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/SecondaryAttack/AxeThrow" to="Previews/ArrowPreview" method="start"]
[connection signal="activated" from="Skills/SecondaryAttack/AxeThrow" to="Skin" method="play_throw"]
[connection signal="activated" from="Skills/SecondaryAttack/AxeRecall" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/ThirdAttack/Spinning" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/ThirdAttack/Spinning" to="Skin" method="play_spin"]
[connection signal="activated" from="Skills/ThirdAttack/Drink" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/ThirdAttack/Drink" to="Skin" method="play_drink"]
[connection signal="activated" from="Skills/Block" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/Block" to="Skin" method="play_taunt"]
[connection signal="activated" from="Skills/Dodge" to="HUD" method="on_skill_activated"]
[connection signal="activated" from="Skills/Dodge" to="Skin" method="play_jump"]
[connection signal="activated" from="Skills/Ultimate" to="HUD" method="on_skill_activated"]
[connection signal="on_damage" from="HitBox" to="Skills/Block" method="on_damage"]
[connection signal="on_damage" from="HitBox" to="Processors/Energy" method="on_damage"]
