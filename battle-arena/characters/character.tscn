[gd_scene load_steps=16 format=3 uid="uid://d26br4f45m27g"]

[ext_resource type="Script" path="res://characters/character.gd" id="1_8kwiu"]
[ext_resource type="Script" path="res://stats/stats_manager.gd" id="2_3n7xj"]
[ext_resource type="Script" path="res://input/input_provider.gd" id="2_fj6tx"]
[ext_resource type="Script" path="res://characters/hit_box.gd" id="2_nshhg"]
[ext_resource type="Script" path="res://stats/number_stat.gd" id="3_018qh"]
[ext_resource type="Script" path="res://status_effects/modifiers_manager.gd" id="3_687mx"]
[ext_resource type="Script" path="res://stats/tag_stat.gd" id="4_u52ko"]
[ext_resource type="Script" path="res://skills/skills_manager.gd" id="7_nutv6"]
[ext_resource type="Script" path="res://processors/health.gd" id="9_q665c"]
[ext_resource type="Script" path="res://processors/heal.gd" id="9_urlqi"]
[ext_resource type="Script" path="res://processors/movement.gd" id="10_hj0il"]
[ext_resource type="Script" path="res://processors/rotation.gd" id="11_747v1"]
[ext_resource type="PackedScene" uid="uid://7xkefn5xpy47" path="res://hud/hud.tscn" id="12_4f13d"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_47r4a"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_vwbuv"]
radius = 0.4

[node name="Character" type="CharacterBody3D"]
collision_mask = 7
script = ExtResource("1_8kwiu")

[node name="Stats" type="Node" parent="."]
script = ExtResource("2_3n7xj")

[node name="Health" type="Node" parent="Stats"]
script = ExtResource("3_018qh")
has_max_value = true
max_value = 100.0
has_min_value = true
base_value = 100.0

[node name="Shield" type="Node" parent="Stats"]
script = ExtResource("3_018qh")
has_max_value = true
max_value = 100.0
has_min_value = true

[node name="MovementSpeed" type="Node" parent="Stats"]
script = ExtResource("3_018qh")
has_max_value = true
max_value = 15.0
has_min_value = true
base_value = 5.0

[node name="RotationSpeed" type="Node" parent="Stats"]
script = ExtResource("3_018qh")
has_min_value = true
base_value = 10.0

[node name="SkillProgress" type="Node" parent="Stats"]
script = ExtResource("3_018qh")
has_max_value = true
max_value = 1.0
has_min_value = true

[node name="Name" type="Node" parent="Stats"]
script = ExtResource("4_u52ko")
current_value = "Character"

[node name="Modifiers" type="Node" parent="."]
script = ExtResource("3_687mx")

[node name="Skills" type="Node" parent="."]
script = ExtResource("7_nutv6")

[node name="Processors" type="Node" parent="."]

[node name="Damage" type="Node" parent="Processors" node_paths=PackedStringArray("health", "shield")]
script = ExtResource("9_q665c")
health = NodePath("../../Stats/Health")
shield = NodePath("../../Stats/Shield")

[node name="Heal" type="Node" parent="Processors" node_paths=PackedStringArray("health")]
script = ExtResource("9_urlqi")
health = NodePath("../../Stats/Health")

[node name="Movement" type="Node" parent="Processors" node_paths=PackedStringArray("movement_speed")]
script = ExtResource("10_hj0il")
movement_speed = NodePath("../../Stats/MovementSpeed")

[node name="Rotation" type="Node" parent="Processors" node_paths=PackedStringArray("rotation_speed")]
script = ExtResource("11_747v1")
rotation_speed = NodePath("../../Stats/RotationSpeed")

[node name="HitBox" type="Area3D" parent="."]
monitoring = false
script = ExtResource("2_nshhg")

[node name="Collider" type="CollisionShape3D" parent="HitBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 1, 2.08165e-12)
shape = SubResource("CylinderShape3D_47r4a")

[node name="Collider" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 1, 2.08165e-12)
shape = SubResource("CylinderShape3D_vwbuv")

[node name="HUD" parent="." node_paths=PackedStringArray("health", "name_tag") instance=ExtResource("12_4f13d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.07557, 0)
health = NodePath("../Stats/Health")
name_tag = NodePath("../Stats/Name")

[node name="Input" type="MultiplayerSynchronizer" parent="."]
script = ExtResource("2_fj6tx")

[connection signal="on_damage" from="HitBox" to="Processors/Damage" method="apply"]
[connection signal="on_heal" from="HitBox" to="Processors/Heal" method="apply"]
